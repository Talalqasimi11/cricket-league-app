{"numFailedTestSuites":1,"numFailedTests":11,"numPassedTestSuites":0,"numPassedTests":2,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":13,"openHandles":[{},{},{},{}],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1765047401816,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Live Scoring API","POST /api/live/start-innings"],"duration":93,"failureDetails":[{"matcherResult":{"actual":401,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m401\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m401\u001b[39m\n    at Object.toBe (C:\\Users\\Administrator\\Desktop\\final project\\cricket-league-app\\backend\\__tests__\\liveScoring.test.js:122:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Live Scoring API POST /api/live/start-innings should start innings successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should start innings successfully"},{"ancestorTitles":["Live Scoring API","POST /api/live/start-innings"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"Live Scoring API POST /api/live/start-innings should reject unauthorized user","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject unauthorized user"},{"ancestorTitles":["Live Scoring API","POST /api/live/start-innings"],"duration":27,"failureDetails":[{"matcherResult":{"actual":401,"expected":404,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m404\u001b[39m\nReceived: \u001b[31m401\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m404\u001b[39m\nReceived: \u001b[31m401\u001b[39m\n    at Object.toBe (C:\\Users\\Administrator\\Desktop\\final project\\cricket-league-app\\backend\\__tests__\\liveScoring.test.js:151:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Live Scoring API POST /api/live/start-innings should reject if match not found","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject if match not found"},{"ancestorTitles":["Live Scoring API","POST /api/live/ball"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at Object.id (C:\\Users\\Administrator\\Desktop\\final project\\cricket-league-app\\backend\\__tests__\\liveScoring.test.js:164:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Live Scoring API POST /api/live/ball should add ball successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should add ball successfully"},{"ancestorTitles":["Live Scoring API","POST /api/live/ball"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at Object.id (C:\\Users\\Administrator\\Desktop\\final project\\cricket-league-app\\backend\\__tests__\\liveScoring.test.js:164:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Live Scoring API POST /api/live/ball should reject invalid ball sequence","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject invalid ball sequence"},{"ancestorTitles":["Live Scoring API","POST /api/live/ball"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at Object.id (C:\\Users\\Administrator\\Desktop\\final project\\cricket-league-app\\backend\\__tests__\\liveScoring.test.js:164:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Live Scoring API POST /api/live/ball should reject duplicate ball","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject duplicate ball"},{"ancestorTitles":["Live Scoring API","POST /api/live/ball"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at Object.id (C:\\Users\\Administrator\\Desktop\\final project\\cricket-league-app\\backend\\__tests__\\liveScoring.test.js:164:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Live Scoring API POST /api/live/ball should handle wides correctly","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle wides correctly"},{"ancestorTitles":["Live Scoring API","POST /api/live/ball"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at Object.id (C:\\Users\\Administrator\\Desktop\\final project\\cricket-league-app\\backend\\__tests__\\liveScoring.test.js:164:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Live Scoring API POST /api/live/ball should handle wickets correctly","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle wickets correctly"},{"ancestorTitles":["Live Scoring API","POST /api/live/end-innings"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at Object.id (C:\\Users\\Administrator\\Desktop\\final project\\cricket-league-app\\backend\\__tests__\\liveScoring.test.js:268:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Live Scoring API POST /api/live/end-innings should end innings successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should end innings successfully"},{"ancestorTitles":["Live Scoring API","POST /api/live/end-innings"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'id')\n    at Object.id (C:\\Users\\Administrator\\Desktop\\final project\\cricket-league-app\\backend\\__tests__\\liveScoring.test.js:268:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Live Scoring API POST /api/live/end-innings should reject if innings already ended","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject if innings already ended"},{"ancestorTitles":["Live Scoring API","GET /api/live/:match_id"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"Live Scoring API GET /api/live/:match_id should get live score successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should get live score successfully"},{"ancestorTitles":["Live Scoring API","GET /api/viewer/live-score/:match_id"],"duration":42,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoHaveProperty\u001b[2m(\u001b[22m\u001b[32mpath\u001b[39m\u001b[2m)\u001b[22m\n\nExpected path: \u001b[32m\"currentBatsmen\"\u001b[39m\nReceived path: \u001b[31m[]\u001b[39m\n\nReceived value: \u001b[31m{\"balls\": [], \"currentContext\": {\"batsmen\": [], \"bowler\": null, \"partnership\": {\"balls\": 0, \"runs\": 0}, \"recentBalls\": []}, \"innings\": [], \"players\": []}\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoHaveProperty\u001b[2m(\u001b[22m\u001b[32mpath\u001b[39m\u001b[2m)\u001b[22m\n\nExpected path: \u001b[32m\"currentBatsmen\"\u001b[39m\nReceived path: \u001b[31m[]\u001b[39m\n\nReceived value: \u001b[31m{\"balls\": [], \"currentContext\": {\"batsmen\": [], \"bowler\": null, \"partnership\": {\"balls\": 0, \"runs\": 0}, \"recentBalls\": []}, \"innings\": [], \"players\": []}\u001b[39m\n    at Object.toHaveProperty (C:\\Users\\Administrator\\Desktop\\final project\\cricket-league-app\\backend\\__tests__\\liveScoring.test.js:318:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Live Scoring API GET /api/viewer/live-score/:match_id should get viewer data successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"failed","title":"should get viewer data successfully"},{"ancestorTitles":["Live Scoring API","Overs Calculation Logic"],"duration":32,"failureDetails":[{"matcherResult":{"actual":"0.0","expected":0.1,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m0.1\u001b[39m\nReceived: \u001b[31m\"0.0\"\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m0.1\u001b[39m\nReceived: \u001b[31m\"0.0\"\u001b[39m\n    at Object.toBe (C:\\Users\\Administrator\\Desktop\\final project\\cricket-league-app\\backend\\__tests__\\liveScoring.test.js:366:39)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Live Scoring API Overs Calculation Logic should correctly update overs_decimal and overs after each legal ball","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should correctly update overs_decimal and overs after each legal ball"}],"endTime":1765047404639,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mLive Scoring API › POST /api/live/start-innings › should start innings successfully\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m401\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 120 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 121 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 122 |\u001b[39m       expect(response\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Innings 1 started successfully'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 124 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/liveScoring.test.js\u001b[39m\u001b[0m\u001b[2m:122:31)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mLive Scoring API › POST /api/live/start-innings › should reject if match not found\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m404\u001b[39m\n    Received: \u001b[31m401\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 149 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 150 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 151 |\u001b[39m       expect(response\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[35m404\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 152 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 153 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 154 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/liveScoring.test.js\u001b[39m\u001b[0m\u001b[2m:151:31)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mLive Scoring API › POST /api/live/ball › should add ball successfully\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'id')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 162 |\u001b[39m         [testMatch\u001b[33m.\u001b[39mid]\u001b[22m\n\u001b[2m     \u001b[90m 163 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 164 |\u001b[39m       inningId \u001b[33m=\u001b[39m innings[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 165 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 166 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 167 |\u001b[39m     it(\u001b[32m'should add ball successfully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.id (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/liveScoring.test.js\u001b[39m\u001b[0m\u001b[2m:164:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mLive Scoring API › POST /api/live/ball › should reject invalid ball sequence\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'id')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 162 |\u001b[39m         [testMatch\u001b[33m.\u001b[39mid]\u001b[22m\n\u001b[2m     \u001b[90m 163 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 164 |\u001b[39m       inningId \u001b[33m=\u001b[39m innings[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 165 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 166 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 167 |\u001b[39m     it(\u001b[32m'should add ball successfully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.id (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/liveScoring.test.js\u001b[39m\u001b[0m\u001b[2m:164:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mLive Scoring API › POST /api/live/ball › should reject duplicate ball\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'id')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 162 |\u001b[39m         [testMatch\u001b[33m.\u001b[39mid]\u001b[22m\n\u001b[2m     \u001b[90m 163 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 164 |\u001b[39m       inningId \u001b[33m=\u001b[39m innings[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 165 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 166 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 167 |\u001b[39m     it(\u001b[32m'should add ball successfully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.id (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/liveScoring.test.js\u001b[39m\u001b[0m\u001b[2m:164:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mLive Scoring API › POST /api/live/ball › should handle wides correctly\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'id')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 162 |\u001b[39m         [testMatch\u001b[33m.\u001b[39mid]\u001b[22m\n\u001b[2m     \u001b[90m 163 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 164 |\u001b[39m       inningId \u001b[33m=\u001b[39m innings[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 165 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 166 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 167 |\u001b[39m     it(\u001b[32m'should add ball successfully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.id (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/liveScoring.test.js\u001b[39m\u001b[0m\u001b[2m:164:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mLive Scoring API › POST /api/live/ball › should handle wickets correctly\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'id')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 162 |\u001b[39m         [testMatch\u001b[33m.\u001b[39mid]\u001b[22m\n\u001b[2m     \u001b[90m 163 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 164 |\u001b[39m       inningId \u001b[33m=\u001b[39m innings[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 165 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 166 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 167 |\u001b[39m     it(\u001b[32m'should add ball successfully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.id (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/liveScoring.test.js\u001b[39m\u001b[0m\u001b[2m:164:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mLive Scoring API › POST /api/live/end-innings › should end innings successfully\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'id')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 266 |\u001b[39m         [testMatch\u001b[33m.\u001b[39mid]\u001b[22m\n\u001b[2m     \u001b[90m 267 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 268 |\u001b[39m       inningId \u001b[33m=\u001b[39m innings[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 269 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 270 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 271 |\u001b[39m     it(\u001b[32m'should end innings successfully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.id (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/liveScoring.test.js\u001b[39m\u001b[0m\u001b[2m:268:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mLive Scoring API › POST /api/live/end-innings › should reject if innings already ended\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'id')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 266 |\u001b[39m         [testMatch\u001b[33m.\u001b[39mid]\u001b[22m\n\u001b[2m     \u001b[90m 267 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 268 |\u001b[39m       inningId \u001b[33m=\u001b[39m innings[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mid\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 269 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 270 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 271 |\u001b[39m     it(\u001b[32m'should end innings successfully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.id (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/liveScoring.test.js\u001b[39m\u001b[0m\u001b[2m:268:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mLive Scoring API › GET /api/viewer/live-score/:match_id › should get viewer data successfully\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoHaveProperty\u001b[2m(\u001b[22m\u001b[32mpath\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected path: \u001b[32m\"currentBatsmen\"\u001b[39m\n    Received path: \u001b[31m[]\u001b[39m\n\n    Received value: \u001b[31m{\"balls\": [], \"currentContext\": {\"batsmen\": [], \"bowler\": null, \"partnership\": {\"balls\": 0, \"runs\": 0}, \"recentBalls\": []}, \"innings\": [], \"players\": []}\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 316 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'balls'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 317 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'players'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 318 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'currentBatsmen'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 319 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'currentBowler'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 320 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'last12Balls'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 321 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'partnership'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveProperty (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/liveScoring.test.js\u001b[39m\u001b[0m\u001b[2m:318:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mLive Scoring API › Overs Calculation Logic › should correctly update overs_decimal and overs after each legal ball\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m0.1\u001b[39m\n    Received: \u001b[31m\"0.0\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 364 |\u001b[39m         \u001b[33m.\u001b[39msend({ match_id\u001b[33m:\u001b[39m localMatchId\u001b[33m,\u001b[39m inning_id\u001b[33m:\u001b[39m inningId\u001b[33m,\u001b[39m over_number\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m ball_number\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m\u001b[33m,\u001b[39m batsman_id\u001b[33m:\u001b[39m testPlayer1\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39m bowler_id\u001b[33m:\u001b[39m testPlayer2\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39m runs\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 365 |\u001b[39m       \u001b[36mlet\u001b[39m [inning] \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m db\u001b[33m.\u001b[39mquery(\u001b[32m'SELECT overs, overs_decimal FROM match_innings WHERE id = ?'\u001b[39m\u001b[33m,\u001b[39m [inningId])\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 366 |\u001b[39m       expect(inning[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39movers_decimal)\u001b[33m.\u001b[39mtoBe(\u001b[35m0.1\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 367 |\u001b[39m       expect(inning[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39movers)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 368 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 369 |\u001b[39m       \u001b[90m// Ball 2 (0.2)\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/liveScoring.test.js\u001b[39m\u001b[0m\u001b[2m:366:39)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\Administrator\\Desktop\\final project\\cricket-league-app\\backend\\__tests__\\liveScoring.test.js","startTime":1765047401881,"status":"failed","summary":""}],"wasInterrupted":false}
